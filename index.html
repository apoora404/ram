<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Sollong 통합 계산기</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
 body {
   font-family: 'Arial', sans-serif;
   max-width: 850px; /* 전체 너비 확장 (사이드바 공간 확보) */
   margin: 30px auto;
   padding: 20px;
   background: linear-gradient(135deg, #0e0e1e, #1a0f2b); /* Sollong DApp 배경 */
   color: #e0e6f0;
   box-sizing: border-box;
 }
 h2 {
   text-align: center;
   color: #8c7eff; /* 메인 강조색 */
   font-size: 28px;
   margin-bottom: 25px;
   text-shadow: 0 0 5px rgba(140, 126, 255, 0.5);
 }
 .card {
   background: #1e1430; /* 카드 배경색 */
   padding: 25px;
   border-radius: 18px;
   box-shadow: 0 8px 20px rgba(0,0,0,0.6), inset 0 0 8px rgba(140, 126, 255, 0.1);
   border: 1px solid #8c7eff33;
 }
 label {
   display: block;
   margin-top: 15px;
   margin-bottom: 5px;
   font-weight: bold;
   color: #c9d2e0;
   font-size: 15px;
 }
 input{
   max-width: 200px; /* 너비 제한 */
   width: 100%; /* 반응형을 위해 기본 100% 설정 후 max-width 적용 */
   padding: 12px 15px;
   margin-top: 5px;
   border: 1px solid #8c7eff55;
   border-radius: 10px;
   background: #120c24;
   color: #e0e6f0;
   box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
   box-sizing: border-box;
   appearance: none;
   -webkit-appearance: none;
   -moz-appearance: none;
 }
 input::placeholder {
   color: #8a96a8;
 }
 select:not(#hash) { /* RAM 해시레이트 선택 박스 제외 */
   max-width: 200px; /* 너비 제한 */
   width: 100%; /* 반응형을 위해 기본 100% 설정 후 max-width 적용 */
   padding: 12px 15px;
   margin-top: 5px;
   border: 1px solid #8c7eff55;
   border-radius: 10px;
   background: #120c24;
   color: #e0e6f0;
   box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
   box-sizing: border-box;
   appearance: none;
   -webkit-appearance: none;
   -moz-appearance: none;
   background-image: url('data:image/svg+xml;utf8,<svg fill="%23e0e6f0" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
   background-repeat: no-repeat;
   background-position: right 8px top 50%;
   background-size: 16px;
 }
 /* RAM 계산기 해시레이트 선택 박스 */
 select#hash {
   width: 100%;
   padding: 12px 15px;
   margin-top: 5px;
   border: 1px solid #8c7eff55;
   border-radius: 10px;
   background: #120c24;
   color: #e0e6f0;
   box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
   box-sizing: border-box;
   appearance: none;
   -webkit-appearance: none;
   -moz-appearance: none;
   background-image: url('data:image/svg+xml;utf8,<svg fill="%23e0e6f0" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
   background-repeat: no-repeat;
   background-position: right 8px top 50%;
   background-size: 16px;
 }
 button {
   margin-top: 30px;
   width: 100%;
   padding: 16px;
   background: linear-gradient(45deg, #8c7eff, #6a4ef7);
   color: white;
   font-size: 18px;
   font-weight: bold;
   border: none;
   border-radius: 12px;
   cursor: pointer;
   transition: all 0.3s ease;
   box-shadow: 0 5px 15px rgba(140, 126, 255, 0.4);
 }
 button:hover {
   opacity: 0.95;
   transform: translateY(-2px);
   box-shadow: 0 8px 20px rgba(140, 126, 255, 0.6);
 }
 #resultRam, #resultCpi { /* 각 계산기 결과 섹션 ID */
   margin-top: 30px;
 }
 .result-section {
   margin-bottom: 20px;
   padding: 20px;
   border-radius: 15px;
   box-shadow: 0 4px 10px rgba(0,0,0,0.3);
 }
 .result-title {
   font-weight: bold;
   font-size: 18px;
   margin-bottom: 10px;
   padding-bottom: 5px;
   border-bottom: 1px solid rgba(255,255,255,0.1);
   color: #5effc9; /* 결과 타이틀 강조색 */
 }
 .result-item {
   margin: 8px 0;
   color: #d8e0e8;
   font-size: 16px;
 }
 .highlight {
   font-weight: bold;
   font-size: 17px;
   color: #5effc9; /* 강조 색상 (민트 계열) */
   text-shadow: 0 0 3px rgba(94, 255, 201, 0.5);
 }
 .main-box {background:#1f1636; border:1px solid #4e8ef7; color:#d8e0e8;}
 .bonus-box {background:#2a1b42; border:1px solid #8c63ff; color:#d8e0e8;}
 .total-box {background:#202a3a; border:1px solid #2fd4b5; color:#d8e0e8;}

 .main-box .result-title, .cpi-main-box .result-title { color: #4e8ef7; }
 .bonus-box .result-title, .cpi-bonus-box .result-title { color: #8c63ff; }
 .total-box .result-title, .cpi-summary-box .result-title { color: #2fd4b5; }

 .alert-box {
   padding: 15px;
   margin-bottom: 20px;
   border-radius: 10px;
   font-weight: bold;
   text-align: center;
   font-size: 16px;
 }
 .alert-warning {
   background: #3a1a1a;
   color: #ff6b6b;
   border: 1px solid #ff4d4d;
 }
 /* CPI 프로모션 체크박스 스타일 */
 .cpi-promo-checkbox, .ram-promo-checkbox {
   display: flex;
   align-items: center;
   margin-top: 15px;
   cursor: pointer;
   font-weight: bold;
   color: #c9d2e0;
 }
 .cpi-promo-checkbox input, .ram-promo-checkbox input {
   max-width: 20px;
   width: auto;
   margin-right: 10px;
   box-shadow: none;
   border-radius: 4px;
   appearance: checkbox;
   -webkit-appearance: checkbox;
   -moz-appearance: checkbox;
 }

 /* 날짜 드롭다운을 위한 스타일 */
 .date-select-group {
   display: flex;
   gap: 10px;
   margin-top: 5px;
 }
 .date-select-group select {
   flex: 1;
 }

 /* 탭 관련 스타일 */
 .tabs {
   display: flex;
   justify-content: center;
   margin-bottom: 25px;
   background: #1e1430;
   border-radius: 18px;
   padding: 10px;
   box-shadow: 0 4px 10px rgba(0,0,0,0.5);
 }
 .tab-button {
   flex: 1;
   padding: 12px 0;
   text-align: center;
   background: none;
   border: none;
   color: #c9d2e0;
   font-size: 17px;
   font-weight: bold;
   cursor: pointer;
   border-radius: 12px;
   transition: all 0.3s ease;
 }
 .tab-button.active {
   background: linear-gradient(45deg, #8c7eff, #6a4ef7);
   color: white;
   box-shadow: 0 3px 10px rgba(140, 126, 255, 0.4);
 }
 .tab-content {
   display: none; /* 기본적으로 숨김 */
 }
 .tab-content.active {
   display: block; /* 활성화된 탭만 보임 */
 }

 /* 계산기 레이아웃 (인풋 + 사이드바) */
 .calculator-layout {
   display: flex;
   gap: 25px; /* 입력 영역과 사이드바 간격 */
   flex-wrap: wrap; /* 모바일에서 자동 줄바꿈 */
 }
 .input-area {
   flex: 1; /* 입력 영역이 최대한 공간을 차지 */
   min-width: 300px; /* 최소 너비 지정 */
 }
 .promo-details-sidebar {
   width: 250px; /* 사이드바 고정 너비 */
   background: #120c24; /* 사이드바 배경색 */
   padding: 20px;
   border-radius: 15px;
   box-shadow: inset 0 0 8px rgba(140, 126, 255, 0.05); /* 내부 그림자 */
   border: 1px solid #8c7eff20;
   box-sizing: border-box;
 }
 .promo-details-sidebar h3 {
   color: #5effc9;
   font-size: 18px;
   margin-top: 0;
   margin-bottom: 15px;
   padding-bottom: 5px;
   border-bottom: 1px solid rgba(255,255,255,0.1);
 }
 .promo-details-sidebar p {
   font-size: 14px;
   line-height: 1.6;
   color: #c9d2e0;
   margin-bottom: 10px;
 }
 .promo-details-sidebar ul {
   list-style: none;
   padding: 0;
   margin: 0;
 }
 .promo-details-sidebar ul li {
   font-size: 14px;
   line-height: 1.6;
   color: #c9d2e0;
   margin-bottom: 5px;
 }
 .promo-details-sidebar ul li strong {
   color: #5effc9;
 }

 /* 반응형 디자인 */
 @media (max-width: 480px) {
   .calculator-layout {
     flex-direction: column; /* 모바일에서 세로로 정렬 */
     gap: 15px;
   }
   .input-area {
     min-width: unset; /* 모바일에서 최소 너비 제한 해제 */
     width: 100%;
   }
   .promo-details-sidebar {
     width: 100%; /* 모바일에서 전체 너비 */
   }
 }
</style>
</head>
<body>
<div class="card">
 <div class="tabs">
   <button class="tab-button active" data-tab="cpi">CPI 계산기</button>
   <button class="tab-button" data-tab="ram">RAM 계산기</button>
 </div>

 <div id="cpiCalculator" class="tab-content active">
   <div class="calculator-layout">
     <div class="input-area">
       <h2>CPI 계산기</h2>

       <label>초기 CPI 입금액(USDT):</label>
       <input type="number" id="initialInvest" placeholder="예: 5000">

       <label class="cpi-promo-checkbox">
           <input type="checkbox" id="applyCpiPromotion">
           <span>CPI 프로모션 적용 (1000 USDT 이상 충전 시 10% USDL 보너스)</span>
       </label>

       <label>CPI 스테이킹 시작일 (2025년):</label>
       <div class="date-select-group">
         <select id="cpiStartMonth"></select>
         <select id="cpiStartDay"></select>
       </div>

       <button onclick="calculateCpiGrowth()">계산하기</button>
       <div id="resultCpi"></div>
     </div>
     <div class="promo-details-sidebar">
       <h3>CPI 프로모션 안내</h3>
       <p>기존 CPI 주문 보유자가 1000 USDT 이상 충전 시, CPI 시스템 보너스 주문 10% 추가 지급됩니다. 이 보너스 주문은 USDL 풀에서 2%의 일일 수익률로 발생하며, 해제된 USDL CPI는 다른 풀과 마찬가지로 재투자 또는 출금할 수 있습니다.</p>
       <p><strong>참여 조건:</strong></p>
       <ul>
         <li>기존 CPI 주문 보유자</li>
         <li>최소 <strong>1000 USDT</strong> 이상 초기 입금 시 프로모션 보너스 대상</li>
       </ul>
       <p><strong>보너스 계산 예시:</strong></p>
       <ul>
         <li>1000 USDT 추가 예치 시 → 100 USDL 보너스 자동 생성</li>
         <li>생성된 100 USDL은 <strong>매일 2%</strong>씩 해제 (수익 발생)</li>
       </ul>
     </div>
   </div>
 </div>

 <div id="ramCalculator" class="tab-content">
   <div class="calculator-layout">
     <div class="input-area">
       <h2>RAM 계산기</h2>

       <label>할당 금액(USDT):</label>
       <input type="number" id="invest" placeholder="예: 5000">

       <label>할당 기간(일):</label>
       <input type="number" id="days" placeholder="예: 120">

       <label>스테이킹 시작일 (2025년):</label>
       <div class="date-select-group">
         <select id="ramStartMonth"></select>
         <select id="ramStartDay"></select>
       </div>

       <label>해시레이트 구간:</label>
       <select id="hash">
         <option value="1">1M ~ 5M</option>
         <option value="1.05">5M ~ 8M</option>
         <option value="1.1025">8M ~ 16M</option>
         <option value="1.157625">16M ~ 25M</option>
         <option value="1.21550625">25M ~ 50M</option>
         <option value="1.27628157">50M+</option>
       </select>

       <label class="ram-promo-checkbox">
           <input type="checkbox" id="applyRamPromotion">
           <span>RAM 프로모션 적용</span>
       </label>

       <button onclick="calculateRam()">계산하기</button>
       <div id="resultRam"></div>
     </div>
     <div class="promo-details-sidebar">
       <h3>RAM 프로모션 안내</h3>
       <p><strong>미친 더블 보너스!</strong></p>
       <ul>
         <li><strong>프로모션 기간:</strong> 7월 17일 ~ 12월 31일 (하반기 전체)</li>
         <li><strong>참여 방법:</strong> RAM 스테이킹 단일 예치</li>
         <li><strong>참여 조건:</strong>
           <ul>
             <li>최소 <strong>120일 이상</strong></li>
             <li>최소 <strong>1000 USDT 이상</strong> 예치 시 해당</li>
           </ul>
         </li>
         <li><strong>구간 보너스 안내 (RAM 추가 예치 & 보너스 보상율):</strong>
           <ul>
             <li><strong>1001~5000 USDT:</strong> 할당의 <strong>10%</strong> 램 추가 예치, 보너스 보상율 <strong>0.53%</strong></li>
             <li><strong>5001~10000 USDT:</strong> 할당의 <strong>15%</strong> 램 추가 예치, 보너스 보상율 <strong>0.578%</strong></li>
             <li><strong>10001 USDT 이상:</strong> 할당의 <strong>20%</strong> 램 추가 예치, 보너스 보상율 <strong>0.693%</strong></li>
           </ul>
         </li>
       </ul>
       <p><em>* 모든 추가 예치 RAM은 2400일 상품으로 자동 생성됩니다.</em></p>
     </div>
   </div>
 </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
 // 탭 기능 구현
 const tabButtons = document.querySelectorAll('.tab-button');
 const tabContents = document.querySelectorAll('.tab-content');

 tabButtons.forEach(button => {
   button.addEventListener('click', () => {
     tabButtons.forEach(btn => btn.classList.remove('active'));
     button.classList.add('active');

     tabContents.forEach(content => content.classList.remove('active'));
     const targetTab = button.dataset.tab;
     document.getElementById(targetTab + 'Calculator').classList.add('active');
   });
 });


 // ==========================================================
 // RAM 계산기 로직
 // ==========================================================
 const ramStartMonthSelect = document.getElementById("ramStartMonth");
 const ramStartDaySelect = document.getElementById("ramStartDay");

 function populateRamDays(month, year) {
   ramStartDaySelect.innerHTML = '';
   const daysInMonth = new Date(year, month, 0).getDate();
   for (let i = 1; i <= daysInMonth; i++) {
     const option = document.createElement("option");
     option.value = i.toString().padStart(2, '0');
     option.textContent = i + "일";
     ramStartDaySelect.appendChild(option);
   }
 }
 for (let i = 1; i <= 12; i++) {
   const option = document.createElement("option");
   option.value = i.toString().padStart(2, '0');
   option.textContent = i + "월";
   ramStartMonthSelect.appendChild(option);
 }
 ramStartMonthSelect.addEventListener("change", function() {
   const selectedMonth = parseInt(this.value);
   populateRamDays(selectedMonth, 2025);
 });
 const todayRam = new Date();
 const currentRamMonth = todayRam.getMonth() + 1;
 const currentRamDay = todayRam.getDate();
 ramStartMonthSelect.value = currentRamMonth.toString().padStart(2, '0');
 populateRamDays(currentRamMonth, 2025);
 ramStartDaySelect.value = currentRamDay.toString().padStart(2, '0');


 const dayBonusTable = [
   {day:81, bonus:1.00}, {day:161, bonus:1.01}, {day:240, bonus:1.02},
   {day:320, bonus:1.03}, {day:401, bonus:1.04}, {day:480, bonus:1.05},
   {day:561, bonus:1.06}, {day:641, bonus:1.07}, {day:720, bonus:1.08},
   {day:801, bonus:1.09}, {day:881, bonus:1.10}, {day:960, bonus:1.11},
   {day:1041, bonus:1.12}, {day:1121, bonus:1.13}, {day:1200, bonus:1.14},
   {day:1281, bonus:1.15}, {day:1361, bonus:1.16}, {day:1440, bonus:1.17},
   {day:1521, bonus:1.18}, {day:1601, bonus:1.19}, {day:1680, bonus:1.20},
   {day:1761, bonus:1.21}, {day:1841, bonus:1.22}, {day:1920, bonus:1.23},
   {day:2001, bonus:1.24}, {day:2081, bonus:1.25}, {day:2160, bonus:1.26},
   {day:2241, bonus:1.27}, {day:2320, bonus:1.28}, {day:2399, bonus:1.29},
   {day:2400, bonus:1.30}
 ];

 function getDayBonus(days) {
   let bonus = 1;
   for (let i = 0; i < dayBonusTable.length; i++) {
     if (days < dayBonusTable
